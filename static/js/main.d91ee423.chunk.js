(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){},11:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),l=a(3),s=a.n(l),o=a(4);var i=function(e){return c.a.createElement("div",{className:"board"},e.children)},d=Object(r.createContext)(),u=Object(r.createContext)();var m=function(e){var t=Object(r.useContext)(d).dispatch,a=Object(r.useContext)(u).state,l=Object(r.useState)(""),s=Object(n.a)(l,2),o=s[0],i=s[1],m=Object(r.useRef)(null);function p(e){e.preventDefault(),Boolean(o)&&(t({type:"create",card:{content:o}}),i(""),m.current.focus())}return Object(r.useEffect)(function(){setTimeout(function(){return m.current.focus()},0)},[]),c.a.createElement("div",{className:"create-item"},c.a.createElement("form",{className:a.editing||a.prompting?" blurred":"",onSubmit:p},c.a.createElement("input",{ref:m,onChange:function(e){return i(e.target.value)},value:o}),c.a.createElement("button",{onClick:p,className:"btn btn-primary"},"+")))};var p=function(e){var t=Object(r.useContext)(d).dispatch,a=Object(r.useContext)(u).state;return c.a.createElement("div",{className:"card"+(a.editing||a.prompting?" blurred":"")},e.head?c.a.createElement("span",null," "):c.a.createElement("span",{style:{color:e.color},onClick:function(a){a.preventDefault(),t({type:"moveLeft",card:{deckI:e.id,taskI:e.taskI}})}},"\u25c4"),c.a.createElement("p",{onClick:function(a){a.preventDefault(),t({type:"edit",card:{deckI:e.id,taskI:e.taskI}})}},e.task),e.tail?c.a.createElement("span",null," "):c.a.createElement("span",{style:{color:e.color},onClick:function(a){a.preventDefault(),t({type:"moveRight",card:{deckI:e.id,taskI:e.taskI}})}},"\u25ba"))};var v=function(e){return e.tasks.map(function(t,a){return c.a.createElement(p,{head:e.head,tail:e.tail,key:"".concat(t).concat(a),task:t,taskI:a,id:e.id,color:e.color})})};var b=function(){var e=Object(r.useState)(""),t=Object(n.a)(e,2),a=t[0],l=t[1],s=Object(r.useContext)(d).dispatch,o=Object(r.useContext)(u).state,i=o.list[o.editCard.deckI].tasks[o.editCard.taskI];return Object(r.useEffect)(function(){l(i)},[i]),c.a.createElement("div",{className:"overlay"+(o.editing?" overlay--visible":"")},c.a.createElement("div",{className:"overlay-inner"},c.a.createElement("p",{className:"end-message"}),c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"+(o.prompting?" blurred":"")},c.a.createElement("label",{htmlFor:"post-body",className:"text-muted mb-1 d-block"},c.a.createElement("small",null,"Task Content")),c.a.createElement("div",{className:o.prompting?" blurred":""},c.a.createElement("textarea",{name:"body",id:"post-body",className:"body-content tall-textarea form-control",type:"text",value:a,onChange:function(e){return l(e.target.value)}}))),c.a.createElement("div",{className:"control"},c.a.createElement("div",{className:o.prompting?" blurred":""},c.a.createElement("button",{onClick:function(e){e.preventDefault(),s({type:"cancel",command:"edit"})},className:"canc"},"Cancel")),c.a.createElement("button",{onClick:function(e){e.preventDefault();var t=o.editCard,a=t.deckI,n=t.taskI;s({type:"delete",card:{deckI:a,taskI:n}})},className:"del"+(o.prompting?" blurred":"")},"Delete"),c.a.createElement("button",{onClick:function(e){e.preventDefault();var t=o.editCard,n=t.deckI,r=t.taskI;s({type:"update",card:{deckI:n,taskI:r,content:a}})},className:"save"+(o.prompting?" blurred":"")},"Save")))))};var f=function(){var e=Object(r.useContext)(d).dispatch,t=Object(r.useContext)(u).state,a=Object(r.useState)(),l=Object(n.a)(a,2),s=l[0],o=l[1];return Object(r.useEffect)(function(){o(t.promptMessage)},[t.promptMessage]),c.a.createElement("div",{className:"overlay"+(t.prompting?" overlay--visible":"")},c.a.createElement("div",{className:"overlay-inner"},c.a.createElement("p",{className:"end-message"},s),c.a.createElement("button",{className:"cancel-prompt",onClick:function(a){a.preventDefault(),e({type:"cancel",command:t.command})}},"Cancel"),c.a.createElement("button",{className:"prompt",onClick:function(a){a.preventDefault(),e({type:"continue",command:t.command})}},"Continue")))};var k=function(){var e=Object(r.useContext)(d).dispatch,t=Object(r.useContext)(u).state,a=t.list.reduce(function(e,t){return t.tasks.length+e},0);return c.a.createElement("button",{onClick:function(t){t.preventDefault(),e({type:"reset",command:"resetAll"})},disabled:0===a,className:"btn reset"+(t.editing||t.prompting?" blurred":"")},"Reset")},g=[{id:1,name:"Open",style:{backgroundColor:"#344759"},tasks:[]},{id:2,name:"In Progress",style:{backgroundColor:"#39a59c"},tasks:[]},{id:3,name:"In Review",style:{backgroundColor:"#8e6e95"},tasks:[]},{id:4,name:"Done",style:{backgroundColor:"#e8741e"},tasks:[]}];a(10);function E(e){var t=localStorage.getItem("boardappList"),a={editCard:{deckI:0,taskI:0},editing:!1,list:t&&JSON.parse(t)||g,prompting:!1,promptMessage:" "};var l=Object(o.a)(function(e,t){var a,n=t.card||{},r=n.deckI,c=n.taskI,l=n.content;switch(t.type){case"cancel":if("edit"===t.command)return void(e.editing=!1);if("resetAll"===t.command)return void(e.prompting=!1);break;case"continue":return void("resetAll"===t.command&&(e.list=g,e.prompting=!1));case"create":return void e.list[0].tasks.push(l);case"delete":return e.list[r].tasks.splice(c,1),void(e.editing=!1);case"edit":return e.editing=!0,e.editCard.deckI=r,void(e.editCard.taskI=c);case"reset":return e.prompting=!0,e.promptMessage="Reset will clear all, press continue to proceed.",void(e.command="resetAll");case"update":return e.editing=!1,void(e.list[r].tasks[c]=l);case"moveLeft":return a=e.list[r].tasks.splice(c,1),void e.list[r-1].tasks.push(a);case"moveRight":return a=e.list[r].tasks.splice(c,1),void e.list[r+1].tasks.push(a);default:throw new Error}},a),s=Object(n.a)(l,2),p=s[0],E=s[1];return Object(r.useEffect)(function(){document.title="".concat(e.title),window.scrollTo(0,0)},[]),Object(r.useEffect)(function(){localStorage.setItem("boardappList",JSON.stringify(p.list))},[p.list]),c.a.createElement(u.Provider,{value:{state:p}},c.a.createElement(d.Provider,{value:{dispatch:E}},c.a.createElement(i,{title:"Board App"},p.list.map(function(e,t){return c.a.createElement("div",{key:e.id,className:"container"},c.a.createElement("div",{className:"header"+(p.editing||p.prompting?" blurred":""),style:e.style},e.name),c.a.createElement(v,{head:0===t,tail:t===p.list.length-1,id:t,tasks:e.tasks,color:e.style.backgroundColor}),"Open"!==e.name?"":c.a.createElement(m,null))}),c.a.createElement(k,null)),c.a.createElement(b,null),c.a.createElement(f,null)))}s.a.render(c.a.createElement(E,{title:"Board App"}),document.querySelector("#root"))},5:function(e,t,a){e.exports=a(11)}},[[5,1,2]]]);
//# sourceMappingURL=main.d91ee423.chunk.js.map